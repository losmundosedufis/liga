{% extends "base.html" %}

{% block title %}Equipos - {{ liga.nombre }}{% endblock %}

{% block content %}
<div class="container py-4">
    <h2>Equipos en {{ liga.nombre }}</h2>

    <form method="POST" class="my-4">
        <div class="mb-3">
            <label for="nombre_equipo" class="form-label">Nombre del equipo</label>
            <input type="text" class="form-control" id="nombre_equipo" name="nombre_equipo" required>
        </div>
        <button type="submit" class="btn btn-primary">Añadir equipo</button>
    </form>

    <form method="POST" class="my-4">
        <div class="mb-3">
            <label for="nombre_equipo" class="form-label">Nombre del equipo</label>
            <input type="text" class="form-control" id="nombre_equipo" name="nombre_equipo" required>
        </div>
        <button type="submit" class="btn btn-primary">Añadir equipo</button>
    </form>

    {% if equipos %}
        <ul class="list-group mt-4">
            {% for equipo in equipos %}
                <li class="list-group-item d-flex justify-content-between align-items-center">
                    {{ equipo.nombre }}
                    <div>
                        <a href="{{ url_for('ligas.editar_equipo', liga_id=liga.id, equipo_id=equipo.id) }}" class="btn btn-sm btn-outline-warning">Editar</a>
                        <form method="POST" action="{{ url_for('ligas.eliminar_equipo', liga_id=liga.id, equipo_id=equipo.id) }}" onsubmit="return confirm('¿Estás seguro de que deseas eliminar este equipo?');" class="d-inline">                            <button type="submit" class="btn btn-sm btn-outline-danger">Eliminar</button>
                        </form>
                    </div>
                </li>
            {% endfor %}
        </ul>
    {% else %}
        <p class="text-muted mt-3">Aún no hay equipos en esta liga.</p>
    {% endif %}

    <div class="mt-4">
        <a href="{{ url_for('ligas.ver_liga', liga_id=liga.id) }}" class="btn btn-secondary">⬅ Volver a la liga</a>
    </div>
</div>
{% endblock %}